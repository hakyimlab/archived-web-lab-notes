---
title: Transcriptome QGT Lab 2022 Setup
author: ''
date: '2022-06-14'
slug: transcriptome-qgt-lab-2022-setup
categories: []
tags:
  - lab
  - QGT
  - how to
---

<script src="index_files/header-attrs/header-attrs.js"></script>
<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<p>The instructions in this blog were written to set up the lab in Rstudio cloud</p>
<div id="setting-up-your-own-system" class="section level2">
<h2>Setting up your own system</h2>
<p>Linux is the operating system of choice to run bioinformatics software. You will need either a computer running linux or or mac os, which has a linux-like environment.</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
install anaconda/miniconda</li>
<li><input type="checkbox" disabled="" />
define imlabtools conda environment <a href="https://github.com/hakyimlab/MetaXcan/blob/master/README.md#example-conda-environment-setup">how to here</a>, which will install all the python modules needed for this analysis session</li>
<li><input type="checkbox" disabled="" />
download data and software <a href="https://uchicago.box.com/s/zhapf2zfxcpj7thvq4sjnqale3emleum">from Box</a>.
This will have copies of all the software repositories and the models</li>
<li><input type="checkbox" disabled="" />
download software<ul>
<li>download metaxcan repo</li>
</ul></li>
<li><input type="checkbox" disabled="" />
download prediction models from predictdb.org</li>
<li><input type="checkbox" disabled="" />
install R/RStudio/tidyverse package</li>
<li><input type="checkbox" disabled="" />
install R packages</li>
<li><input type="checkbox" disabled="" />
git clone <a href="https://github.com/hakyimlab/QGT-Columbia-HKI.git" class="uri">https://github.com/hakyimlab/QGT-Columbia-HKI.git</a></li>
<li><input type="checkbox" disabled="" />
start Rstudio (if you installed workflowr, you can just open the QGT-Columbia-HKI.Rproj)</li>
</ul>
</div>
<div id="r-setup" class="section level1">
<h1>R setup</h1>
<pre class="r"><code>#install R packages 
install.packages(&quot;remotes&quot;)
library(remotes)
remotes::install_github(&quot;stephenslab/susieR&quot;) #gives the most up to date SusieR 
install.packages(&quot;coloc&quot;)
install.packages(&quot;tidyverse&quot;)
install.packages(&quot;R.utils&quot;)
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;simingz/ctwas&quot;, ref = &quot;develop&quot;)


#cTWAS install
install.packages(&quot;R.utils&quot;)
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;simingz/ctwas&quot;, ref = &quot;develop&quot;)
library(ctwas)


## make sure these are installed
# library(data.table)
# library(BEDMatrix)
# library(Rfast)
# library(susieR)
# library(coloc)

#installing base miniconda
install.packages(&quot;keras&quot;)
reticulate::install_miniconda(&quot;miniconda&quot;)</code></pre>
</div>
<div id="setting-up-conda-environment" class="section level1">
<h1>Setting up Conda Environment</h1>
<pre class="bash"><code>#adding path
export PATH=$PATH:/cloud/project/miniconda/bin
# adding repos/data
git clone https://github.com/hakyimlab/QGT-Columbia-HKI-repo.git
git clone https://github.com/hakyimlab/MetaXcan.git
conda config --append channels conda-forge
conda config --append channels bioconda
conda env create -f /cloud/project/MetaXcan/software/conda_env.yaml
conda activate imlabtools</code></pre>
<p>Set the Ram to 5gb in order to create the environment.</p>
</div>
<div id="box-data" class="section level1">
<h1>Box Data</h1>
<p>To upload the data. I first downloaded the box folder onto a local machine and then compressed the folders in the box folder to upload onto the server.</p>
<p>Notes:
For some reason setting up the environment and uploading the data will continue to use a lot of background RAM set sure to close the project and reopen to close extraneous programs.</p>
</div>

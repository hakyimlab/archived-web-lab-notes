---
title: Bigquery GTEx v8 results
author: Haky Im
date: '2021-11-18'
slug: bigquery-gtex-v8-results
categories:
  - how_to
tags: []
editor_options: 
  chunk_output_type: console
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.1.0     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(bigrquery)</code></pre>
<pre class="r"><code>## connect to dapg dataset
dapg_dataset = &quot;GTEx_V8_DAPG&quot;
dapg_con &lt;- DBI::dbConnect(
  bigrquery::bigquery(), 
  project = &quot;gtex-awg-im&quot;,
  dataset = dapg_dataset,
  billing = &quot;gtex-awg-im&quot;)
##
DBI::dbListTables(dapg_con)</code></pre>
<pre><code>## ! Using an auto-discovered, cached token.</code></pre>
<pre><code>##   To suppress this message, modify your code or options to clearly consent to
##   the use of a cached token.</code></pre>
<pre><code>##   See gargle&#39;s &quot;Non-interactive auth&quot; vignette for more details:</code></pre>
<pre><code>##   &lt;https://gargle.r-lib.org/articles/non-interactive-auth.html&gt;</code></pre>
<pre><code>## ℹ The bigrquery package is using a cached token for &#39;haky@uchicago.edu&#39;.</code></pre>
<pre><code>##  [1] &quot;clusters_eqtl&quot;           &quot;clusters_eqtl_eur&quot;      
##  [3] &quot;clusters_sqtl&quot;           &quot;model_summary_eqtl_eur&quot; 
##  [5] &quot;model_variants_eqtl_eur&quot; &quot;models_eqtl&quot;            
##  [7] &quot;models_eqtl_eur&quot;         &quot;variants_pip_eqtl&quot;      
##  [9] &quot;variants_pip_eqtl_eur&quot;   &quot;variants_pip_sqtl&quot;</code></pre>
<pre class="r"><code>## connect to gtex-awg-im:annotations.gencode_v26_all
gencode_con &lt;- DBI::dbConnect(
  bigrquery::bigquery(), 
  project = &quot;gtex-awg-im&quot;,
  dataset = &quot;annotations&quot;,
  billing = &quot;gtex-awg-im&quot;)
gencode_tbl &lt;- tbl(gencode_con, &quot;gencode_v26_all&quot;)
gencode_df &lt;- gencode_tbl %&gt;% collect()

## connect to prediction weights gtex-awg-im:GTEx_V8_PF_MASHR_EUR_v1.weights_eqtl
mashrpred_con &lt;- DBI::dbConnect(
  bigrquery::bigquery(), 
  project = &quot;gtex-awg-im&quot;,
  dataset = &quot;GTEx_V8_PF_MASHR_EUR_v1&quot;,
  billing = &quot;gtex-awg-im&quot;)
##
DBI::dbListTables(mashrpred_con)</code></pre>
<pre><code>##  [1] &quot;extra_eqtl&quot;               &quot;extra_sqtl&quot;              
##  [3] &quot;smultixcan_eqtl&quot;          &quot;smultixcan_eqtl_count&quot;   
##  [5] &quot;smultixcan_sqtl&quot;          &quot;smultixcan_sqtl_count&quot;   
##  [7] &quot;spredixcan_eqtl&quot;          &quot;spredixcan_eqtl_count&quot;   
##  [9] &quot;spredixcan_eqtl_hn&quot;       &quot;spredixcan_eqtl_hn_count&quot;
## [11] &quot;spredixcan_eqtl_hq&quot;       &quot;spredixcan_eqtl_hq_count&quot;
## [13] &quot;spredixcan_sqtl&quot;          &quot;spredixcan_sqtl_count&quot;   
## [15] &quot;weights_eqtl&quot;             &quot;weights_sqtl&quot;</code></pre>
<p>See more examples of queries <a href="https://hakyimlab.github.io/bigquery-covid19/query-phenomexcan.html">in this link</a></p>
